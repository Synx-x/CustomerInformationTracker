@{
    ViewData["Title"] = "Customers";
}

<div class="text-center">
    <h1 class="display-4">Customers</h1>
</div>

<!-- Filtering Form -->
<div id="filters">
    <input type="text" id="nameFilter" placeholder="Filter by Name" />
    <input type="text" id="vatNumberFilter" placeholder="Filter by VAT Number" />
    <button id="filterButton">Filter</button>
</div>

<!-- Dynamic Table Placeholder -->
<table id="customersTable" class="table table-striped">
    <thead>
        <tr>
            <th>Name</th>
            <th>Address</th>
            <th>Telephone Number</th>
            <th>Contact Person</th>
            <th>Contact Person Email</th>
            <th>VAT Number</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <!-- Content will be loaded here dynamically -->
    </tbody>
</table>

@section Scripts {
    <script>
        $(document).ready(function() {
            loadCustomers();
            $('#filterButton').click(function() {
                loadCustomers();
            });
        });

        function loadCustomers() {
            var name = $('#nameFilter').val();
            var vatNumber = $('#vatNumberFilter').val();
            debugger;
            $.ajax({
                url: '@Url.Action("Details", "CustomerController")',
                success: function(data) {
                    $('#customersTable tbody').html(data);
                }
            });
        }
    </script>
}
